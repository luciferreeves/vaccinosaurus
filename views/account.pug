doctype html
html(lang='en')
    include common/header.pug
    +head('My Account')
    body
        nav(class="navbar navbar-dark bg-dark")
            div(class="container-fluid")
                a(class="navbar-brand" href="./") Vaccinosaurus
                div(class="d-flex")
                    button(class="btn btn-success me-2" type="button" onclick="logout()") Logout
                    button(class="btn btn-primary" type="button" onclick="window.location.href='https://github.com/luciferreeves/vaccinosaurus'") Fork on GitHub
        div(class="container")
            div(class="mt-5 text-center")
                h1(class="display-4") My Account
                p <strong>Server Location: </strong>Mumbai, India

            div(class="mt-5 flex-sm-column justify-content-center")
                div(class="text-center")
                    div(class="spinner-border text-primary" role="status" id="accountLoader")
                        span(class="visually-hidden") Loading..
                div(id="accountDetails" style="display:none")
                    div(class="alert alert-danger" role="alert" id="incompleteAccount" style="display:none") Your account is missing some information. You will not be notified unless you fill the missing fields below.
                    div(class="alert alert-info" role="alert" id="vaccineInformationAlert") <strong>Live Update:</strong> <span id="vaccineInformation"></span>
                    h3 Hello, <span id="fullName"></span>
                    p(id="email")
                    div(class="mt-5")
                        div
                            label(for="age" class="form-label") Age
                            input(type="text" class="form-control" id="age" placeholder="Age")
                        div(class="mt-3")
                            label(for="pincode" class="form-label") PIN Code
                            input(type="text" class="form-control" id="pincode" placeholder="PIN Code")
                        div(class="row mt-3")
                            div(class="col-md-6 mt-1 mx-auto")
                                select(class="form-select" id="states")
                                    option(selected disabled) Select a state
                            div(class="col-md-6 mt-1 mx-auto")
                                select(class="form-select" id="districts")
                                    option(selected disabled) Select a district
                        div(class="mt-3")
                            label(for="notifyForAges" class="form-label") Notify for
                            select(class="form-select" id="notifyForAges")
                                option(selected disabled) Notify For Ages
                                option(value="all") All Ages
                                option(value="18") 18 - 44 Years
                                option(value="45") 45+ Years
                        div(class="mt-3")
                            label(for="notifyWith" class="form-label") Search within
                            select(class="form-select" id="notifyWith")
                                option(selected disabled) Search within
                                option(value="pincode") PIN Code
                                option(value="district") District

    script(src="https://www.gstatic.com/firebasejs/8.5.0/firebase-app.js")
    script(src="https://www.gstatic.com/firebasejs/8.5.0/firebase-auth.js")
    script(src="https://www.gstatic.com/firebasejs/8.5.0/firebase-firestore.js")
    script(src="js/auth.js")
    script(src="js/datastore.js")